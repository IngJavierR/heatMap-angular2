<md-progress-bar color="warn" mode="indeterminate" *ngIf="isLoading"></md-progress-bar>
<div class="flex-inline">
    <md-card class="flex-1">
        <md-card-title>
            IPH
        </md-card-title>
        <div>
            <h5>Parámetros de búsqueda</h5>
            <h6 class="query-params">{{queryIphFechas}}</h6>
            <h6 class="query-params">{{queryIphEvento}}</h6>
        </div>
        <br>
        <ngui-map zoom="11" [center]="centerpoint" class="map-margin">
            <heatmap-layer heatmapIph [data]="pointsIph"></heatmap-layer>
        </ngui-map>
    </md-card>

    <md-card class="flex-1">
        <md-card-title>
            Comandancia
        </md-card-title>
        <div>
            <h5>Parámetros de búsqueda</h5>
            <h6 class="query-params">{{queryComandanciaFechas}}</h6>
            <h6 class="query-params">{{queryComandanciaEvento}}</h6>
        </div>
        <br>
        <ngui-map zoom="11" [center]="centerpoint" class="map-margin">
            <heatmap-layer heatmapCom [data]="pointsCom"></heatmap-layer>
        </ngui-map>
    </md-card>
</div>

<div class="flex-inline">
    <md-card class="flex-1">
        <md-card-title>
            Gráfica IPH por artículo
        </md-card-title>
        <div class="graph-container" flex>
            <canvas baseChart
                [data]="doughnutChartDataIph" 
                [labels]="doughnutChartLabelsIph" 
                [chartType]="doughnutChartType"
                [colors]="doughnutChartColors" >
            </canvas>
        </div>
    </md-card>

    <md-card class="flex-1">
        <md-card-title>
            Gráfica Comandancia por artículo
        </md-card-title>
        <div class="graph-container">
            <canvas baseChart 
                [data]="doughnutChartDataCom" 
                [labels]="doughnutChartLabelsCom" 
                [chartType]="doughnutChartType"
                [colors]="doughnutChartColors" >
            </canvas>
        </div>
    </md-card>
</div>

<div class="flex-inline">
    <md-card class="flex-1">
        <md-card-title>
            Descripción
        </md-card-title>
        <div class="table-container mat-elevation-z8">
                <md-table #table [dataSource]="dataSourceColoniesIph">
    
                    <!-- Tipo Column -->
                    <ng-container cdkColumnDef="name">
                        <md-header-cell *cdkHeaderCellDef> Tipo </md-header-cell>
                        <md-cell *cdkCellDef="let row"> {{row.idEvent}} </md-cell>
                    </ng-container>
    
                    <!-- Colony Column -->
                    <ng-container cdkColumnDef="colony">
                        <md-header-cell *cdkHeaderCellDef [ngClass]="'colonia-table-width'"> Colonia </md-header-cell>
                        <md-cell *cdkCellDef="let row" [ngClass]="'colonia-table-width'"> {{row.colony}} </md-cell>
                    </ng-container>
    
                    <!-- Numero Column -->
                    <ng-container cdkColumnDef="numberOfEvents">
                        <md-header-cell *cdkHeaderCellDef [ngClass]="'id-table-width'"> Eventos </md-header-cell>
                        <md-cell *cdkCellDef="let row" [ngClass]="'id-table-width'"> {{row.numberOfEvents}} </md-cell>
                    </ng-container>
    
                    <md-header-row *cdkHeaderRowDef="displayedColumnsColonies"></md-header-row>
                    <md-row *cdkRowDef="let row; columns: displayedColumnsColonies;"></md-row>
                </md-table>
            </div>
    </md-card>

    <md-card class="flex-1">
        <md-card-title>
            Descripción
        </md-card-title>
        <div class="table-container mat-elevation-z8">
            <md-table #table [dataSource]="dataSourceColoniesCom">

                <!-- Tipo Column -->
                <ng-container cdkColumnDef="name">
                    <md-header-cell *cdkHeaderCellDef> Tipo </md-header-cell>
                    <md-cell *cdkCellDef="let row"> {{row.idEvent}} </md-cell>
                </ng-container>

                <!-- Colony Column -->
                <ng-container cdkColumnDef="colony">
                    <md-header-cell *cdkHeaderCellDef [ngClass]="'colonia-table-width'"> Colonia </md-header-cell>
                    <md-cell *cdkCellDef="let row" [ngClass]="'colonia-table-width'"> {{row.colony}} </md-cell>
                </ng-container>

                <!-- Numero Column -->
                <ng-container cdkColumnDef="numberOfEvents">
                    <md-header-cell *cdkHeaderCellDef [ngClass]="'id-table-width'"> Eventos </md-header-cell>
                    <md-cell *cdkCellDef="let row" [ngClass]="'id-table-width'"> {{row.numberOfEvents}} </md-cell>
                </ng-container>

                <md-header-row *cdkHeaderRowDef="displayedColumnsColonies"></md-header-row>
                <md-row *cdkRowDef="let row; columns: displayedColumnsColonies;"></md-row>
            </md-table>
        </div>
    </md-card>
</div>